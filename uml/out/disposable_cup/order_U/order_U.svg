<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="700px" preserveAspectRatio="none" style="width:751px;height:700px;background:#FFFFFF;" version="1.1" viewBox="0 0 751 700" width="751px" zoomAndPan="magnify"><defs><filter height="300%" id="fzidyz29c37jg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="301" x="223" y="29.4023">일회용컵 비과세 &gt; 오더 &gt; Update 요소</text><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="151.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="270.5" y="456.1035"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="151.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="373" y="158.3086"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="53.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520" y="242.2402"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="68.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520" y="524.7246"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="197.8633" style="stroke:#000000;stroke-width:2.0;" width="663" x="74" y="119.6875"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="71.9316" style="stroke:#000000;stroke-width:2.0;" width="307" x="24" y="331.5508"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="197.8633" style="stroke:#000000;stroke-width:2.0;" width="550" x="10" y="417.4824"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="102.6875" y2="632.3457"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="111" x2="111" y1="102.6875" y2="632.3457"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="178" x2="178" y1="102.6875" y2="632.3457"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="275" x2="275" y1="102.6875" y2="632.3457"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="378" x2="378" y1="102.6875" y2="632.3457"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="525" x2="525" y1="102.6875" y2="632.3457"/><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="50" x="20" y="67.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="27" y="87.7344">고릴라</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="50" x="20" y="631.3457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="27" y="651.8809">고릴라</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="50" x="84" y="67.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="91" y="87.7344">상점앱</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="50" x="84" y="631.3457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="91" y="651.8809">상점앱</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="56" x="148" y="67.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="155" y="87.7344">상점CS</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="56" x="148" y="631.3457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="155" y="651.8809">상점CS</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="111" x="218" y="67.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="225" y="87.7344">ZOO_OpenApi</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="111" x="218" y="631.3457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="225" y="651.8809">ZOO_OpenApi</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="66" x="343" y="67.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="350" y="87.7344">O2oApi</text><rect fill="#FEFECE" filter="url(#fzidyz29c37jg)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="66" x="343" y="631.3457"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="350" y="651.8809">O2oApi</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="500" y="99.7344">Oracle</text><path d="M507,50.1992 C507,40.1992 525,40.1992 525,40.1992 C525,40.1992 543,40.1992 543,50.1992 L543,76.1992 C543,86.1992 525,86.1992 525,86.1992 C525,86.1992 507,86.1992 507,76.1992 L507,50.1992 " fill="#FEFECE" filter="url(#fzidyz29c37jg)" style="stroke:#000000;stroke-width:1.5;"/><path d="M507,50.1992 C507,60.1992 525,60.1992 525,60.1992 C525,60.1992 543,60.1992 543,50.1992 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="500" y="644.8809">Oracle</text><path d="M507,657.834 C507,647.834 525,647.834 525,647.834 C525,647.834 543,647.834 543,657.834 L543,683.834 C543,693.834 525,693.834 525,693.834 C525,693.834 507,693.834 507,683.834 L507,657.834 " fill="#FEFECE" filter="url(#fzidyz29c37jg)" style="stroke:#000000;stroke-width:1.5;"/><path d="M507,657.834 C507,667.834 525,667.834 525,667.834 C525,667.834 543,667.834 543,657.834 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="151.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="270.5" y="456.1035"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="151.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="373" y="158.3086"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="53.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520" y="242.2402"/><rect fill="#FFFFFF" filter="url(#fzidyz29c37jg)" height="68.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="520" y="524.7246"/><path d="M74,119.6875 L211,119.6875 L211,126.6875 L201,136.6875 L74,136.6875 L74,119.6875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="197.8633" style="stroke:#000000;stroke-width:2.0;" width="663" x="74" y="119.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="89" y="133.2559">상점앱에서 수정시</text><polygon fill="#A80036" points="361,154.3086,371,158.3086,361,162.3086,365,158.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="111" x2="367" y1="158.3086" y2="158.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="118" y="153.5664">주문수정 API 호출</text><path d="M116,171.3086 L116,211.3086 L362,211.3086 L362,181.3086 L352,171.3086 L116,171.3086 " fill="#FBFB77" filter="url(#fzidyz29c37jg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M352,171.3086 L352,181.3086 L362,181.3086 L352,171.3086 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="122" y="188.877">수정 호출시 &gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="70" x="199" y="188.877">PAY_LATER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="273" y="188.877">에 값 추가필요</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="122" y="204.1875">사용자가 입력한 값을 사용한다</text><polygon fill="#A80036" points="508,238.2402,518,242.2402,508,246.2402,512,242.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="383" x2="514" y1="242.2402" y2="242.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="390" y="237.498">주문수정 프로시저 호출</text><path d="M322,255.2402 L322,280.2402 L723,280.2402 L723,265.2402 L713,255.2402 L322,255.2402 " fill="#FBFB77" filter="url(#fzidyz29c37jg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M713,255.2402 L713,265.2402 L723,265.2402 L713,255.2402 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="328" y="272.8086">PKG_AST_01_HANDLE.SP_MOD_ORDER &gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="70" x="590" y="272.8086">PAY_LATER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="664" y="272.8086">추가필요</text><polygon fill="#A80036" points="394,291.5508,384,295.5508,394,299.5508,390,295.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="388" x2="524" y1="295.5508" y2="295.5508"/><polygon fill="#A80036" points="122,305.5508,112,309.5508,122,313.5508,118,309.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="116" x2="377" y1="309.5508" y2="309.5508"/><path d="M24,331.5508 L166,331.5508 L166,338.5508 L156,348.5508 L24,348.5508 L24,331.5508 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="71.9316" style="stroke:#000000;stroke-width:2.0;" width="307" x="24" y="331.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="39" y="345.1191">상점CS에서 수정시</text><path d="M34,353.8613 L34,393.8613 L317,393.8613 L317,363.8613 L307,353.8613 L34,353.8613 " fill="#FBFB77" filter="url(#fzidyz29c37jg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M307,353.8613 L307,363.8613 L317,363.8613 L307,353.8613 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><a href="https://barogo.slack.com/archives/C021G80QZB9/p1652683702820709?thread_ts=1652671814.168859&amp;cid=C021G80QZB9" target="_top" title="https://barogo.slack.com/archives/C021G80QZB9/p1652683702820709?thread_ts=1652671814.168859&amp;cid=C021G80QZB9" xlink:actuate="onRequest" xlink:href="https://barogo.slack.com/archives/C021G80QZB9/p1652683702820709?thread_ts=1652671814.168859&amp;cid=C021G80QZB9" xlink:show="new" xlink:title="https://barogo.slack.com/archives/C021G80QZB9/p1652683702820709?thread_ts=1652671814.168859&amp;cid=C021G80QZB9" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="197" x="40" y="371.4297">상점CS 에서 비과세금액 수정은 불가함</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="40" y="386.7402">-&gt; 문제가 발생하면 고릴라 사장님 사용을 유도한다</text><path d="M10,417.4824 L158,417.4824 L158,424.4824 L148,434.4824 L10,434.4824 L10,417.4824 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="197.8633" style="stroke:#000000;stroke-width:2.0;" width="550" x="10" y="417.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103" x="25" y="431.0508">고릴라로부터 수정시</text><polygon fill="#A80036" points="258.5,452.1035,268.5,456.1035,258.5,460.1035,262.5,456.1035" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="264.5" y1="456.1035" y2="456.1035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="54" y="451.3613">결제 및 상품정보 변경 API 호출</text><path d="M52,469.1035 L52,494.1035 L319,494.1035 L319,479.1035 L309,469.1035 L52,469.1035 " fill="#FBFB77" filter="url(#fzidyz29c37jg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M309,469.1035 L309,479.1035 L319,479.1035 L309,469.1035 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="58" y="486.6719">호출시 &gt; taxFreePayAmount 에 값 추가필요</text><polygon fill="#A80036" points="508,520.7246,518,524.7246,508,528.7246,512,524.7246" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="280.5" x2="514" y1="524.7246" y2="524.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="287.5" y="519.9824">INSERT</text><path d="M285,537.7246 L285,577.7246 L475,577.7246 L475,547.7246 L465,537.7246 L285,537.7246 " fill="#FBFB77" filter="url(#fzidyz29c37jg)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M465,537.7246 L465,547.7246 L475,547.7246 L465,537.7246 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="291" y="555.293">taxFreePayAmount 값을 받아</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="70" x="291" y="570.6035">PAY_LATER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="365" y="570.6035">에 넣는다</text><polygon fill="#A80036" points="291.5,589.3457,281.5,593.3457,291.5,597.3457,287.5,593.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="285.5" x2="524" y1="593.3457" y2="593.3457"/><polygon fill="#A80036" points="58,603.3457,48,607.3457,58,611.3457,54,607.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="274.5" y1="607.3457" y2="607.3457"/><!--MD5=[1fc05e20584b3a7cfb41a58f9c61fc44]
@startuml
participant 고릴라
participant 상점앱
participant 상점CS
participant ZOO_OpenApi
participant O2oApi
database Oracle

title 일회용컵 비과세 > 오더 > Update 요소

group 상점앱에서 수정시
    상점앱 -> O2oApi ++ : 주문수정 API 호출
    note right of 상점앱
        수정 호출시 > __PAY_LATER__ 에 값 추가필요
        사용자가 입력한 값을 사용한다
    end note
    O2oApi -> Oracle ++ : 주문수정 프로시저 호출
    note over Oracle
        PKG_AST_01_HANDLE.SP_MOD_ORDER > __PAY_LATER__ 추가필요
    end note
    return
    return
end

group 상점CS에서 수정시
    note over 상점CS
        [[https://barogo.slack.com/archives/C021G80QZB9/p1652683702820709?thread_ts=1652671814.168859&cid=C021G80QZB9 상점CS 에서 비과세금액 수정은 불가함]]
        -> 문제가 발생하면 고릴라 사장님 사용을 유도한다
    end note
end

group 고릴라로부터 수정시
    고릴라 -> ZOO_OpenApi ++ : 결제 및 상품정보 변경 API 호출
    note right of 고릴라
        호출시 > taxFreePayAmount 에 값 추가필요
    end note
    ZOO_OpenApi -> Oracle ++ : INSERT
    note right of ZOO_OpenApi
        taxFreePayAmount 값을 받아
        __PAY_LATER__ 에 넣는다
    end note
    return
    return
end
@enduml

PlantUML version 1.2022.0(Wed Jan 12 01:16:42 KST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>